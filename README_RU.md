# SQL Bootcamp s21

![SQL](https://img.shields.io/badge/SQL-PostgreSQL-blue)
![Level](https://img.shields.io/badge/Level-Intensive-red)

**SQL Bootcamp s21** ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π –∫—É—Ä—Å –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–π –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã SQL: –æ—Ç –±–∞–∑–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π —Ö—Ä–∞–Ω–∏–ª–∏—â –¥–∞–Ω–Ω—ã—Ö –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### **–î–µ–Ω—å 00: –û—Å–Ω–æ–≤—ã SQL**

* 9 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –±–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å SQL
* –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `SELECT`, `WHERE`, `ORDER BY`, `CASE`, –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã
* –†–∞–±–æ—Ç–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö

---

### **–î–µ–Ω—å 01: –ú–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏ JOIN**

* 11 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–∞–º–∏
* –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `UNION`, `EXCEPT`, `INTERSECT`, —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã `JOIN`
* –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ `IN` vs `EXISTS`

---

### **–î–µ–Ω—å 02: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ JOIN**

* 10 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –≥–ª—É–±–æ–∫—É—é —Ä–∞–±–æ—Ç—É —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
* –¢–∏–ø—ã `JOIN`: `LEFT`, `RIGHT`, `FULL`, `CROSS`
* –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ `CTE (Common Table Expressions)`
* –†–µ—à–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á

---

### **–î–µ–Ω—å 03: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**

* 13 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ DML-–æ–ø–µ—Ä–∞—Ü–∏–∏
* –ö–æ–º–∞–Ω–¥—ã: `INSERT`, `UPDATE`, `DELETE`
* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
* –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏

---

### **–î–µ–Ω—å 04: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è**

* 8 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
* –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `VIEW` –∏ `MATERIALIZED VIEW`
* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
* –°–∏–º–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–Ω–æ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤

---

### **–î–µ–Ω—å 05: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

* 6 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –∏–Ω–¥–µ–∫—Å—ã
* –¢–∏–ø—ã –∏–Ω–¥–µ–∫—Å–æ–≤: B-Tree, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ, –º–Ω–æ–≥–æ–∫–æ–ª–æ–Ω–æ—á–Ω—ã–µ
* –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å `EXPLAIN ANALYZE`
* –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏ —á–∞—Å—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

---

### **–î–µ–Ω—å 06: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î**

* 6 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
* –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å–∫–∏–¥–æ–∫
* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
* –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π
* –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–∫–∏–¥–æ–∫

---

### **–î–µ–Ω—å 07: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞**

* 9 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
* –§—É–Ω–∫—Ü–∏–∏: `COUNT`, `AVG`, `MAX`, `MIN`, `ROUND`
* –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å `GROUP BY` –∏ `HAVING`
* –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

---

### **–î–µ–Ω—å 08: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**

* 8 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –∏–∑–æ–ª—è—Ü–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
* –£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏: `READ COMMITTED`, `REPEATABLE READ`, `SERIALIZABLE`
* –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π: –ø–æ—Ç–µ—Ä—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≥—Ä—è–∑–Ω–æ–µ —á—Ç–µ–Ω–∏–µ, —Ñ–∞–Ω—Ç–æ–º—ã
* –†–∞–±–æ—Ç–∞ —Å –≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏ (deadlock)

---

### **–î–µ–Ω—å 09: –§—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã**

* 9 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏
* –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –¥–ª—è –∞—É–¥–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
* SQL –∏ PL/pgSQL —Ñ—É–Ω–∫—Ü–∏–∏
* –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ (–§–∏–±–æ–Ω–∞—á—á–∏, –ø–æ–∏—Å–∫ –º–∏–Ω–∏–º—É–º–∞)

---

## üßë‚Äçü§ù‚Äçüßë –ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è

### SQL_Team_00: **–ö–æ–º–º–∏–≤–æ—è–∂–µ—Ä**
* –†–µ—à–µ–Ω–∏–µ TSP —Å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

---

### SQL_Team_00: **–•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö**
* ETL-–ø—Ä–æ—Ü–µ—Å—Å—ã, —Ä–∞–±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* PostgreSQL 15+ ‚Äî —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
* ANSI SQL ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
* psql / pgAdmin ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
* –û–∫–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
* –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ `CTE` ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL
2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î:

```bash
psql -U postgres -f materials/model.sql
```

3. –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ –¥–Ω—è–º:

```bash
# –ü—Ä–∏–º–µ—Ä –¥–ª—è –¥–Ω—è 00
cd ex00
psql -U postgres -f day00_ex00.sql
```

4. –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```sql
EXPLAIN ANALYZE
-- –í–∞—à –∑–∞–ø—Ä–æ—Å
```

---

## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π
* –†–µ–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –ø–∏—Ü—Ü–µ—Ä–∏–π
* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
* –ü—Ä–∞–∫—Ç–∏–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Ä–µ—à–µ–Ω–∏—é –∑–∞–¥–∞—á
* –†–∞–±–æ—Ç–∞ —Å –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (DML)
* –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è

> **–í–Ω–∏–º–∞–Ω–∏–µ**: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏–∑–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º DML-–æ–ø–µ—Ä–∞—Ü–∏–π.

---

![schema](misc/images/schema.png)
